<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ SDK Telegram -->
    <script src="https://telegram.org"></script>
    <style>
        :root { --accent: #ff9500; --bg: #0d0d0f; --glass: rgba(255, 255, 255, 0.05); }
        
        * {
            -webkit-touch-callout: none !important;
            -webkit-user-select: none !important;
            user-select: none !important;
            -webkit-tap-highlight-color: transparent !important;
            touch-action: manipulation;
            box-sizing: border-box;
        }

        body { 
            background: var(--bg); color: white; font-family: -apple-system, sans-serif;
            display: flex; flex-direction: column; align-items: center; margin: 0; padding: 20px;
            min-height: 100vh; overflow: hidden;
        }

        .cat-avatar { font-size: 70px; margin: 15px 0; transition: 0.3s; }

        .main-card {
            width: 100%; max-width: 340px; background: var(--glass); border-radius: 30px;
            padding: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(15px);
            text-align: center; position: relative; overflow: hidden;
        }

        #laser { 
            position: absolute; left: 0; width: 100%; height: 3px; 
            background: var(--accent); box-shadow: 0 0 15px var(--accent); 
            display: none; z-index: 10; 
        }
        @keyframes scanAnim { 0% { top: 0%; } 100% { top: 100%; } }

        .trust-bar { width: 100%; height: 8px; background: #222; border-radius: 10px; margin: 15px 0; overflow: hidden; }
        #trust-fill { width: 50%; height: 100%; background: linear-gradient(90deg, #ff4d4d, var(--accent), #4aff4a); transition: 1s ease-in-out; }

        .big-btn { 
            width: 95px; height: 95px; border-radius: 50%; border: none; 
            background: linear-gradient(135deg, #ff9500, #ff5e00); 
            font-size: 45px; cursor: pointer; display: block; margin: 15px auto;
            box-shadow: 0 8px 25px rgba(255,149,0,0.4); transition: 0.2s;
        }
        .big-btn:active { transform: scale(0.9); }
        .big-btn:disabled { opacity: 0.5; filter: grayscale(1); }

        .social-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; max-width: 340px; margin-top: 20px; }
        .social-btn { 
            background: #2a2a2e; border: 1px solid #444; color: white; 
            padding: 15px; border-radius: 18px; font-size: 11px; font-weight: bold; 
            cursor: pointer; text-align: center;
        }
        .share-btn { background: #3390ec; border: none; }
        
        .oracle-box { width: 100%; max-width: 340px; background: rgba(255,149,0,0.1); border-radius: 20px; padding: 15px; margin-bottom: 20px; border: 1px solid rgba(255,149,0,0.2); text-align: center; cursor: pointer; }
    </style>
</head>
<body>

    <div style="font-size: 11px; opacity: 0.4; margin-bottom: 5px; letter-spacing: 1px;">MEOWVIBE PRO v4.2</div>
    <div class="cat-avatar" id="cat-face">üòº</div>

    <div class="oracle-box" onclick="getOracle()">
        <div style="font-weight: bold; color: var(--accent); font-size: 14px; margin-bottom: 4px;">üîÆ –û–†–ê–ö–£–õ –ú–Ø–£</div>
        <div id="oracle-text" style="font-size: 12px; opacity: 0.8;">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å—É–¥—å–±—É</div>
    </div>

    <div class="main-card">
        <div id="laser"></div>
        <div class="trust-bar"><div id="trust-fill"></div></div>
        <div id="status" style="font-size: 18px; min-height: 50px; margin: 10px 0; color: #ffcc00; font-weight: bold; display: flex; align-items: center; justify-content: center;">–ì–æ—Ç–æ–≤ –∫ —Å–≤—è–∑–∏</div>
        <button class="big-btn" id="btn" onclick="startScan()">üêæ</button>
    </div>

    <div class="social-grid">
        <div class="social-btn" onclick="doInvite()">‚ûï –ü–û–ó–í–ê–¢–¨ –î–†–£–ì–ê</div>
        <div class="social-btn share-btn" onclick="doShare()">üì¢ –ü–û–î–ï–õ–ò–¢–¨–°–Ø</div>
    </div>

<script>
    let tg = window.Telegram.WebApp;
    let trust = 50;
    let lastMiau = "";
    const BOT_USERNAME = "MeowVibe_bot";

    function initApp() {
        tg.ready();
        tg.expand();
        // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å Mini App, —á—Ç–æ–±—ã –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–ª–æ—Å—å —Å–≤–∞–π–ø–æ–º –≤–Ω–∏–∑
        if (tg.isVersionAtLeast('6.2')) {
            tg.enableClosingConfirmation();
        }
        updateUI();
    }

    const bad = ["–ì–¥–µ –µ–¥–∞, –∫–æ–∂–∞–Ω—ã–π? üòæ", "–ö–∞–∫ —Ü–∞—Ä–∞–ø–Ω—É! üòº", "–¢—ã–≥-–¥—ã–∫ —É—Å—Ç—Ä–æ–∏—Ç—å?", "–ù–µ—Å–∏ –ø–∞—à—Ç–µ—Ç!", "–Ø –∑–¥–µ—Å—å –∑–∞–∫–æ–Ω!", "–£–¥–∞–ª–∏ —ç—Ç–æ, —á–µ–ª–æ–≤–µ–∫."];
    const good = ["–õ—é–±–∏–º—ã–π —Ö–æ–∑—è–∏–Ω... ‚ù§Ô∏è", "–ú—Ä—Ä—Ä-–º—è—É! ‚ú®", "–¢—ã –ª—É—á—à–∏–π —á–µ–ª–æ–≤–µ–∫.", "–ì–ª–∞–¥—å –º–µ–Ω—è –ø–æ–ª–Ω–æ—Å—Ç—å—é!", "–î–∞–≤–∞–π —Å–ø–∞—Ç—å –≤–º–µ—Å—Ç–µ?", "–¢—ã –≤–∫—É—Å–Ω–æ –ø–∞—Ö–Ω–µ—à—å —Ä—ã–±–æ–≤."];

    function startScan() {
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');
        
        const laser = document.getElementById('laser');
        const status = document.getElementById('status');
        const btn = document.getElementById('btn');
        
        btn.disabled = true;
        laser.style.display = 'block';
        laser.style.animation = 'scanAnim 1.5s infinite linear';
        status.innerText = "–ê–ù–ê–õ–ò–ó–ò–†–£–Æ...";

        setTimeout(() => {
            laser.style.display = 'none';
            btn.disabled = false;
            
            const isGood = Math.random() * 100 < trust;
            const res = isGood ? good[Math.floor(Math.random()*good.length)] : bad[Math.floor(Math.random()*bad.length)];
            
            status.innerText = res;
            lastMiau = res;
            
            // –õ–æ–≥–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–≤–µ—Ä–∏—è
            trust = Math.min(100, Math.max(10, trust + (isGood ? 5 : -15)));
            
            updateUI();
            if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred(isGood ? 'success' : 'error');
        }, 2000);
    }

    function doInvite() {
        const text = encodeURIComponent("–£–∑–Ω–∞–π –º—ã—Å–ª–∏ —Å–≤–æ–µ–≥–æ –∫–æ—Ç–∞! üêæ");
        const url = `https://t.me{BOT_USERNAME}&text=${text}`;
        tg.openTelegramLink(url);
    }

    function doShare() {
        if (!lastMiau) {
            tg.showAlert("–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–π –∫–æ—Ç–∞! üêæ");
            return;
        }
        const text = encodeURIComponent(`–ú–æ–π –∫–æ—Ç –≤—ã–¥–∞–ª: "${lastMiau}"\n\n–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–µ–≥–æ –≤ @${BOT_USERNAME} üòº`);
        tg.openTelegramLink(`https://t.me{text}`);
    }

    function getOracle() {
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
        const preds = ["–°–µ–≥–æ–¥–Ω—è –º–∏—Å–∫–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞! üçó", "–û–ø–∞—Å–∞–π—Å—è –ø—ã–ª–µ—Å–æ—Å–∞... üí®", "–í—Ä–µ–º—è –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ —Ç—ã–≥-–¥—ã–∫–∞! üèÉ‚Äç‚ôÇÔ∏è", "–ö—É—Å—å –Ω–µ–∏–∑–±–µ–∂–µ–Ω. ü¶∑", "–°–æ–ª–Ω–µ—á–Ω—ã–π –∑–∞–π—á–∏–∫ –±–ª–∏–∑–∫–æ... ‚òÄÔ∏è"];
        document.getElementById('oracle-text').innerText = preds[Math.floor(Math.random()*preds.length)];
    }

    function updateUI() {
        const face = document.getElementById('cat-face');
        const fill = document.getElementById('trust-fill');
        if (fill) fill.style.width = trust + "%";
        
        if(trust < 30) face.innerText = "üòæ";
        else if(trust > 70) face.innerText = "üòª";
        else face.innerText = "üòº";
    }

    window.onload = initApp;
</script>
</body>
</html>
