<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <script src="https://telegram.org"></script>
    <style>
        :root { --accent: #ff9500; --bg: #0d0d0f; --glass: rgba(255, 255, 255, 0.05); }
        
        * {
            /* –û–¢–ö–õ–Æ–ß–ê–ï–ú –í–´–î–ï–õ–ï–ù–ò–ï –¢–ï–ö–°–¢–ê –ò –ú–ï–ù–Æ –ü–†–ò –î–û–õ–ì–û–ú –ù–ê–ñ–ê–¢–ò–ò */
            -webkit-touch-callout: none; 
            -webkit-user-select: none;   
            -khtml-user-select: none;    
            -moz-user-select: none;      
            -ms-user-select: none;       
            user-select: none;           
            -webkit-tap-highlight-color: transparent; /* –£–±–∏—Ä–∞–µ–º —Å–∏–Ω–∏–π –∫–≤–∞–¥—Ä–∞—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
        }

        body { 
            background: var(--bg); color: white; font-family: -apple-system, sans-serif;
            display: flex; flex-direction: column; align-items: center; margin: 0; padding: 10px;
            overflow: hidden; min-height: 100vh;
        }

        .top-row { display: flex; justify-content: space-between; width: 100%; max-width: 340px; margin-bottom: 10px; }
        .stat-badge { background: var(--glass); padding: 5px 12px; border-radius: 12px; font-size: 11px; border: 1px solid #333; }

        .cat-avatar { font-size: 65px; margin: 5px 0; transition: 0.4s; pointer-events: none; }

        .achievements { display: flex; gap: 8px; margin: 10px 0; }
        .ach-icon { width: 40px; height: 40px; background: var(--glass); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; border: 1px solid #333; filter: grayscale(1); opacity: 0.3; transition: 0.5s; }
        .ach-active { filter: grayscale(0); opacity: 1; border-color: var(--accent); box-shadow: 0 0 10px var(--accent); }

        .main-card {
            width: 100%; max-width: 340px; background: var(--glass); border-radius: 30px;
            padding: 20px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(15px);
            text-align: center; position: relative; overflow: hidden;
        }
        #laser { position: absolute; left: 0; width: 100%; height: 2px; background: var(--accent); box-shadow: 0 0 15px var(--accent); display: none; z-index: 5; pointer-events: none; }
        @keyframes scanAnim { 0% { top: 0%; } 100% { top: 100%; } }

        .trust-bar { width: 100%; height: 6px; background: #222; border-radius: 10px; margin: 10px 0; overflow: hidden; }
        #trust-fill { width: 50%; height: 100%; background: linear-gradient(90deg, #ff4d4d, var(--accent), #4aff4a); transition: 1s; }

        /* –ö–ù–û–ü–ö–ê –õ–ê–ü–ö–ê */
        .big-btn { 
            width: 90px; height: 90px; border-radius: 50%; border: none; 
            background: linear-gradient(135deg, #ff9500, #ff5e00); 
            font-size: 40px; cursor: pointer; box-shadow: 0 5px 20px rgba(255,149,0,0.4); 
            margin: 10px 0; outline: none;
            display: flex; align-items: center; justify-content: center;
        }
        .big-btn:active { transform: scale(0.92); opacity: 0.9; }

        .social-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 340px; margin-top: 15px; }
        .social-btn { background: #2a2a2e; border: 1px solid #444; color: white; padding: 12px; border-radius: 15px; font-size: 11px; font-weight: bold; cursor: pointer; outline: none; }
        .social-btn:active { background: #3a3a3e; transform: scale(0.96); }
        .share-btn { background: #3390ec; border: none; }
        
        .oracle-box { width: 90%; background: rgba(255,149,0,0.1); border-radius: 15px; padding: 10px; margin-bottom: 10px; border: 1px solid rgba(255,149,0,0.2); text-align: center; font-size: 12px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="top-row">
        <div class="stat-badge">üèÜ –†–∞–Ω–≥: <span id="rank-name">–ù–æ–≤–∏—á–æ–∫</span></div>
        <div class="stat-badge">üë´ –î—Ä—É–∑—å—è: <span id="friend-count">0</span></div>
    </div>

    <div class="cat-avatar" id="cat-face">üòº</div>

    <div class="achievements">
        <div class="ach-icon" id="ach-1">ü§ù</div>
        <div class="ach-icon" id="ach-2">ü•£</div>
        <div class="ach-icon" id="ach-3">üëë</div>
    </div>

    <div class="oracle-box" onclick="getOracle()">
        <div style="font-weight: bold; color: var(--accent);">üîÆ –û–†–ê–ö–£–õ –ú–Ø–£ (FREE)</div>
        <div id="oracle-text">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å—É–¥—å–±—É</div>
    </div>

    <div class="main-card">
        <div id="laser"></div>
        <div style="font-size: 10px; text-align: left; opacity: 0.6;">–î–û–í–ï–†–ò–ï –ü–ò–¢–û–ú–¶–ê</div>
        <div class="trust-bar"><div id="trust-fill"></div></div>

        <div id="status" style="font-size: 18px; min-height: 45px; margin: 10px 0; color: #ffcc00; font-weight: bold;">–ü—Ä–∏–ª–æ–∂–∏ –ª–∞–ø—É...</div>
        <button class="big-btn" id="btn" onclick="startScan()">üêæ</button>
    </div>

    <div class="social-grid">
        <button class="social-btn" onclick="inviteFriend()">‚ûï –ü–û–ó–í–ê–¢–¨ –î–†–£–ì–ê</button>
        <button class="social-btn share-btn" onclick="shareResult()">üì¢ –ü–û–î–ï–õ–ò–¢–¨–°–Ø</button>
    </div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();
    tg.ready();

    const BOT_USERNAME = "MeowVibe_bot"; 
    let trust = 50;
    let scans = 0;
    let friends = 0;
    window.lastRes = "";

    const badPhrases = ["–ì–¥–µ –º–æ—è –µ–¥–∞, –∫–æ–∂–∞–Ω—ã–π? üòæ", "–ö–∞–∫ —Ü–∞—Ä–∞–ø–Ω—É! üòº", "–¢—ã–≥-–¥—ã–∫ –Ω–∞ –≥–æ–ª–æ–≤–µ —É—Å—Ç—Ä–æ–∏—Ç—å?", "–Ø –Ω–µ –ª—é–±–ª—é –¥–∏–µ—Ç—ã!"];
    const goodPhrases = ["–õ—é–±–∏–º—ã–π —Ö–æ–∑—è–∏–Ω... ‚ù§Ô∏è", "–ú—Ä—Ä—Ä-–º—è—É! ‚ú®", "–¢—ã –ª—É—á—à–∏–π –∏–∑ –ª—é–¥–µ–π.", "–ì–ª–∞–¥—å –º–µ–Ω—è –ø–æ–ª–Ω–æ—Å—Ç—å—é!"];

    function startScan() {
        if(trust < 10) return tg.showAlert("–ö–æ—Ç –∑–ª–∏—Ç—Å—è! –ù–∞–∫–æ—Ä–º–∏ –µ–≥–æ –ø–∞—à—Ç–µ—Ç–æ–º. ‚≠êÔ∏è");
        
        tg.HapticFeedback.impactOccurred('heavy');
        const laser = document.getElementById('laser');
        const btn = document.getElementById('btn');
        
        laser.style.display = 'block';
        laser.style.animation = 'scanAnim 1.5s infinite linear';
        btn.disabled = true; // –û—Ç–∫–ª—é—á–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∫–ª–∏–∫–∏ –≤–æ –≤—Ä–µ–º—è —Å–∫–∞–Ω–∞
        document.getElementById('status').innerText = "–ê–ù–ê–õ–ò–ó–ò–†–£–Æ...";

        setTimeout(() => {
            laser.style.display = 'none';
            btn.disabled = false;
            const list = trust > 60 ? goodPhrases : badPhrases;
            const res = list[Math.floor(Math.random() * list.length)];
            
            document.getElementById('status').innerText = res;
            window.lastRes = res;
            
            scans++;
            trust = Math.max(5, trust - 15);
            updateUI();
            tg.HapticFeedback.notificationOccurred('success');
        }, 2000);
    }

    function inviteFriend() {
        tg.HapticFeedback.impactOccurred('medium');
        const inviteLink = `https://t.me{BOT_USERNAME}/app?startapp=ref_${tg.initDataUnsafe.user?.id || 'id'}`;
        const text = encodeURIComponent("–£–∑–Ω–∞–π, —á—Ç–æ –¥—É–º–∞–µ—Ç —Ç–≤–æ–π –∫–æ—Ç! üêæ –î–∞—é –±–æ–Ω—É—Å –¥–æ–≤–µ—Ä–∏—è –∑–∞ –≤—Ö–æ–¥!");
        tg.openTelegramLink(`https://t.me{inviteLink}&text=${text}`);
        
        friends++; updateUI();
    }

    function shareResult() {
        tg.HapticFeedback.impactOccurred('medium');
        if(!window.lastRes) return tg.showAlert("–°–Ω–∞—á–∞–ª–∞ —É–∑–Ω–∞–π –º—ã—Å–ª–∏ –∫–æ—Ç–∞! üêæ");
        const text = encodeURIComponent(`–ú–æ–π –∫–æ—Ç —Å–∫–∞–∑–∞–ª –º–Ω–µ: "${window.lastRes}" üê±\n–£–∑–Ω–∞–π –ø—Ä–∞–≤–¥—É –≤ MeowVibe!`);
        tg.openTelegramLink(`https://t.me{text}`);
    }

    function getOracle() {
        tg.HapticFeedback.impactOccurred('light');
        const preds = ["–°–µ–≥–æ–¥–Ω—è –º–∏—Å–∫–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞!", "–û–ø–∞—Å–∞–π—Å—è –ø—ã–ª–µ—Å–æ—Å–∞.", "–í—Ä–µ–º—è –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ —Ç—ã–≥-–¥—ã–∫–∞!", "–ö–æ–∂–∞–Ω—ã–π —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç —â–µ–¥—Ä."];
        document.getElementById('oracle-text').innerText = preds[Math.floor(Math.random()*preds.length)];
    }

    function updateUI() {
        const face = document.getElementById('cat-face');
        const fill = document.getElementById('trust-fill');
        fill.style.width = trust + "%";
        document.getElementById('friend-count').innerText = friends;

        if(trust < 30) face.innerText = "üòæ";
        else if(trust > 75) face.innerText = "üòá";
        else face.innerText = "üòº";

        if(scans > 0) document.getElementById('ach-1').classList.add('ach-active');
        if(trust >= 90) document.getElementById('ach-2').classList.add('ach-active');
        if(friends > 0) document.getElementById('ach-3').classList.add('ach-active');
        
        const ranks = ["–ù–æ–≤–∏—á–æ–∫", "–ö–æ—à–∞—Ç–Ω–∏–∫", "–ú–∞—Å—Ç–µ—Ä –ú—è—É", "–ö–æ—à–∞—á–∏–π –ë–æ–≥"];
        document.getElementById('rank-name').innerText = ranks[Math.min(Math.floor(scans/5), 3)];
    }

    updateUI();
</script>
</body>
</html>
