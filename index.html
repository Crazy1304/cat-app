<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ SDK Telegram -->
    <script src="https://telegram.org"></script>
    <style>
        :root { --accent: #ff9500; --bg: #0d0d0f; --glass: rgba(255, 255, 255, 0.05); }
        
        /* –ü–û–õ–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –í–´–î–ï–õ–ï–ù–ò–Ø –¢–ï–ö–°–¢–ê –ò –°–ò–ù–ï–ì–û –ö–í–ê–î–†–ê–¢–ê */
        * {
            -webkit-touch-callout: none !important;
            -webkit-user-select: none !important;
            user-select: none !important;
            -webkit-tap-highlight-color: transparent !important;
            touch-action: manipulation;
        }

        body { 
            background: var(--bg); color: white; font-family: -apple-system, sans-serif;
            display: flex; flex-direction: column; align-items: center; margin: 0; padding: 15px;
            min-height: 100vh; overflow: hidden;
        }

        .cat-avatar { font-size: 60px; margin: 10px 0; pointer-events: none; }

        .main-card {
            width: 100%; max-width: 320px; background: var(--glass); border-radius: 30px;
            padding: 20px; border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px); text-align: center; position: relative;
        }

        #laser { 
            position: absolute; left: 0; width: 100%; height: 2px; 
            background: var(--accent); box-shadow: 0 0 15px var(--accent); 
            display: none; pointer-events: none; z-index: 10; 
        }
        @keyframes scanAnim { 0% { top: 0%; } 100% { top: 100%; } }

        .trust-bar { width: 100%; height: 6px; background: #222; border-radius: 10px; margin: 10px 0; overflow: hidden; }
        #trust-fill { width: 50%; height: 100%; background: linear-gradient(90deg, #ff4d4d, var(--accent), #4aff4a); transition: 1s; }

        /* –ö–ù–û–ü–ö–ê –õ–ê–ü–ê */
        .big-btn { 
            width: 90px; height: 90px; border-radius: 50%; border: none; 
            background: linear-gradient(135deg, #ff9500, #ff5e00); 
            font-size: 40px; cursor: pointer; display: block; margin: 15px auto;
            box-shadow: 0 5px 20px rgba(255,149,0,0.4); outline: none;
        }
        .big-btn:active { transform: scale(0.9); }

        .social-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 320px; margin-top: 20px; }
        .social-btn { 
            background: #2a2a2e; border: 1px solid #444; color: white; 
            padding: 14px; border-radius: 15px; font-size: 11px; font-weight: bold; 
            cursor: pointer; text-decoration: none; text-align: center; display: block;
        }
        .share-btn { background: #3390ec; border: none; }
        
        .oracle-box { width: 90%; background: rgba(255,149,0,0.1); border-radius: 15px; padding: 12px; margin-bottom: 15px; border: 1px solid rgba(255,149,0,0.2); text-align: center; cursor: pointer; }
    </style>
</head>
<body>

    <div style="font-size: 11px; opacity: 0.5; margin-bottom: 5px;">MEOWVIBE PRO v4.1</div>
    <div class="cat-avatar" id="cat-face">üòº</div>

    <div class="oracle-box" onclick="getOracle()">
        <div style="font-weight: bold; color: var(--accent); font-size: 13px;">üîÆ –û–†–ê–ö–£–õ –ú–Ø–£</div>
        <div id="oracle-text" style="font-size: 11px;">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å—É–¥—å–±—É</div>
    </div>

    <div class="main-card">
        <div id="laser"></div>
        <div class="trust-bar"><div id="trust-fill"></div></div>
        <div id="status" style="font-size: 17px; min-height: 45px; margin: 10px 0; color: #ffcc00; font-weight: bold;">–ì–æ—Ç–æ–≤ –∫ —Å–≤—è–∑–∏</div>
        <button class="big-btn" id="btn" onclick="startScan()">üêæ</button>
    </div>

    <div class="social-grid">
        <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: –°—Å—ã–ª–∫–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ JS –≤—ã–∑–æ–≤ tg.openTelegramLink -->
        <div class="social-btn" onclick="inviteFriends()">‚ûï –ü–û–ó–í–ê–¢–¨ –î–†–£–ì–ê</div>
        <div class="social-btn share-btn" onclick="shareResult()">üì¢ –ü–û–î–ï–õ–ò–¢–¨–°–Ø</div>
    </div>

<script>
    const tg = window.Telegram.WebApp;
    tg.ready(); // –°–æ–æ–±—â–∞–µ–º Telegram, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ
    tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

    let trust = 50;
    let lastPhrase = "";
    const BOT_USERNAME = "MeowVibe_bot";

    const badPhrases = ["–ì–¥–µ –º–æ—è –µ–¥–∞, –∫–æ–∂–∞–Ω—ã–π? üòæ", "–ö–∞–∫ —Ü–∞—Ä–∞–ø–Ω—É! üòº", "–¢—ã–≥-–¥—ã–∫ –Ω–∞ –≥–æ–ª–æ–≤–µ —É—Å—Ç—Ä–æ–∏—Ç—å?", "–Ø –Ω–µ –ª—é–±–ª—é –¥–∏–µ—Ç—ã!"];
    const goodPhrases = ["–õ—é–±–∏–º—ã–π —Ö–æ–∑—è–∏–Ω... ‚ù§Ô∏è", "–ú—Ä—Ä—Ä-–º—è—É! ‚ú®", "–¢—ã –ª—É—á—à–∏–π –∏–∑ –ª—é–¥–µ–π.", "–ì–ª–∞–¥—å –º–µ–Ω—è –ø–æ–ª–Ω–æ—Å—Ç—å—é!"];

    function startScan() {
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');
        
        const laser = document.getElementById('laser');
        const status = document.getElementById('status');
        const btn = document.getElementById('btn');
        
        btn.disabled = true;
        laser.style.display = 'block';
        laser.style.animation = 'scanAnim 1.5s infinite linear';
        status.innerText = "–ê–ù–ê–õ–ò–ó–ò–†–£–Æ...";

        setTimeout(() => {
            laser.style.display = 'none';
            btn.disabled = false;
            
            const list = (trust > 60) ? goodPhrases : badPhrases;
            const res = list[Math.floor(Math.random() * list.length)];
            
            status.innerText = res;
            lastPhrase = res;
            
            trust = Math.max(10, trust - 15);
            updateUI();
            
            if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        }, 2000);
    }

    function inviteFriends() {
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        
        const userId = tg.initDataUnsafe.user ? tg.initDataUnsafe.user.id : 'user';
        const inviteLink = `https://t.me{BOT_USERNAME}/app?startapp=ref_${userId}`;
        const text = encodeURIComponent("–£–∑–Ω–∞–π, —á—Ç–æ –¥—É–º–∞–µ—Ç —Ç–≤–æ–π –∫–æ—Ç! üêæ –î–∞—é –±–æ–Ω—É—Å –¥–æ–≤–µ—Ä–∏—è –∑–∞ –≤—Ö–æ–¥!");
        const fullUrl = `https://t.me{inviteLink}&text=${text}`;
        
        tg.openTelegramLink(fullUrl);
    }

    function shareResult() {
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        if (!lastPhrase) return tg.showAlert("–°–Ω–∞—á–∞–ª–∞ —É–∑–Ω–∞–π –º—ã—Å–ª–∏ –∫–æ—Ç–∞! üêæ");
        
        const shareText = encodeURIComponent(`–ú–æ–π –∫–æ—Ç —Å–∫–∞–∑–∞–ª –º–Ω–µ: "${lastPhrase}" üê±\n–£–∑–Ω–∞–π –ø—Ä–∞–≤–¥—É –≤ MeowVibe!`);
        const fullUrl = `https://t.me{shareText}`;
        
        tg.openTelegramLink(fullUrl);
    }

    function getOracle() {
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
        const preds = ["–°–µ–≥–æ–¥–Ω—è –º–∏—Å–∫–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞!", "–û–ø–∞—Å–∞–π—Å—è –ø—ã–ª–µ—Å–æ—Å–∞.", "–í—Ä–µ–º—è –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ —Ç—ã–≥-–¥—ã–∫–∞!", "–ö–æ–∂–∞–Ω—ã–π —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç —â–µ–¥—Ä."];
        document.getElementById('oracle-text').innerText = preds[Math.floor(Math.random() * 4)];
    }

    function updateUI() {
        const face = document.getElementById('cat-face');
        const fill = document.getElementById('trust-fill');
        if (fill) fill.style.width = trust + "%";
        
        if(trust < 30) face.innerText = "üòæ";
        else if(trust > 75) face.innerText = "üòá";
        else face.innerText = "üòº";
    }

    updateUI();
</script>
</body>
</html>
